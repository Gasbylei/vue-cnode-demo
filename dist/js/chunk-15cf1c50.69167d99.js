(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15cf1c50"],{"55ad":function(t,a,s){},5923:function(t,a,s){},"64ef":function(t,a,s){"use strict";var e=s("5923"),n=s.n(e);n.a},7387:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-3 sidebar"},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[t._v("\n    作者\n  ")]),s("div",{staticClass:"panel-body"},[s("div",{staticClass:"user_card"},[s("a",{staticClass:"user_avatar",attrs:{href:"#"}},[s("img",{attrs:{src:t.authorInfo.avatar_url,alt:t.authorInfo.loginname}})]),s("span",{staticClass:"user_name"},[s("router-link",{staticClass:"dark",attrs:{to:{path:"/userinfo",query:{username:t.authorInfo.loginname}}}},[t._v(t._s(t.authorInfo.loginname))])],1),s("div",{staticClass:"board"},[s("div",{staticClass:"floor"},[s("span",{staticClass:"big"},[t._v("积分: "+t._s(t.authorInfo.score))])])]),s("span",{staticClass:"signature"},[t._v('\n        "2019 拥抱大前端"\n      ')])])])]),s("div",{staticClass:"panel panel-default",staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"panel-heading"},[t._v("\n      作者其他话题\n    ")]),s("div",{staticClass:"panel-body"},[s("ul",{staticClass:"unstyled"},t._l(t.recentTopics,function(a,e){return s("li",{key:e},[e<5?s("div",[s("router-link",{staticClass:"topic_title",attrs:{to:{path:"detail",query:{id:a.id,username:a.author.loginname}},title:a.title}},[t._v(t._s(a.title))])],1):t._e()])}),0)])])])},n=[],i={name:"TheSideBar",data:function(){return{authorInfo:"",recentTopics:""}},created:function(){var t=this,a=this.$route.query.username||this.$store.state.userinfo.username;this.axios.get("https://cnodejs.org/api/v1/user/"+a).then(function(a){t.authorInfo=a.data.data,t.recentTopics=a.data.data.recent_topics})}},r=i,o=(s("64ef"),s("2877")),l=Object(o["a"])(r,e,n,!1,null,"5921626b",null);a["a"]=l.exports},"866a":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[s("div",{staticClass:"col-md-9"},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},t._l(t.tabs,function(a,e){return s("a",{key:e,class:[t.current_tab===e?"active":"","message-tab"],on:{click:function(a){return t.select(e)}}},[t._v(t._s(a))])}),0),t._l(t.messages,function(a){return s("div",{key:a.id,staticClass:"panel-body"},[s("div",{staticClass:"author_content"},[s("router-link",{attrs:{to:{path:"/userinfo",query:{username:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url,width:"30px",height:"30px",alt:a.author.loginname}})]),s("div",{staticClass:"user_info"},[s("router-link",{staticClass:"reply_author",attrs:{to:{path:"/userinfo",query:{username:a.author.loginname}}}},[t._v("\n            "+t._s(a.author.loginname)+"\n            ")]),"at"===a.type?s("span",{staticClass:"name"},[t._v("在回复中@了您")]):t._e(),"reply"===a.type?s("span",{staticClass:"name"},[t._v("回复了您的话题")]):t._e(),s("a",{staticClass:"reply_time"},[t._v(t._s(t._f("moment")(a.reply.create_at,"from")))])],1),s("div",{staticClass:"user_action pull-right"},[s("router-link",{attrs:{to:{name:"detail",params:{id:a.topic.id}}}},[s("div",{staticClass:"topic-title"},[t._v("\n                  话题："+t._s(a.topic.title)+"\n              ")])])],1)],1),s("div",{staticClass:"reply_content"},[s("div",{staticClass:"markdown-text",domProps:{innerHTML:t._s(a.reply.content)}})])])})],2),this.messages.length<=0?s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-body"},[t._v("\n        暂无消息哦\n      ")])]):t._e()]),s("TheSideBar")],1)},n=[],i=s("323e"),r=s.n(i),o=s("7387"),l={data:function(){return{messages:"",current_tab:"noread",tabs:{noread:"未读消息",hasread:"已读消息"}}},components:{TheSideBar:o["a"]},created:function(){var t=this;this.$store.state.userinfo.token?(r.a.start(),this.axios.get("https://cnodejs.org/api/v1/messages",{params:{accesstoken:this.$store.state.userinfo.token}}).then(function(a){t.messages=a.data.data.hasnot_read_messages,r.a.done()})):this.$router.push({path:"/login"})},methods:{select:function(t){var a=this;r.a.start(),this.current_tab=t,this.axios.get("https://cnodejs.org/api/v1/messages",{params:{accesstoken:this.$store.state.userinfo.token}}).then(function(s){a.messages="hasread"===t?s.data.data.has_read_messages:s.data.data.hasnot_read_messages,r.a.done()})}}},c=l,u=(s("a759"),s("2877")),d=Object(u["a"])(c,e,n,!1,null,"6eb55c72",null);a["default"]=d.exports},a759:function(t,a,s){"use strict";var e=s("55ad"),n=s.n(e);n.a}}]);
//# sourceMappingURL=chunk-15cf1c50.69167d99.js.map